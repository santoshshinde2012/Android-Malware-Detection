package androidappclassifier;

import java.io.File;

import dedexer.Dedexer;

public class DexDecrypt {

	public void decryptDex(String srcfolder,String destfolder){
		Dedexer dedexer = new Dedexer();
		File folder = new File(srcfolder);
		File[] listOfFiles = folder.listFiles();

		    for (int i = 0; i < listOfFiles.length; i++) {
		      if (listOfFiles[i].isFile()) {
		    	  if(listOfFiles[i].getName().endsWith(".dex")){
		    	    String[] DEDXERINPUT = {"-D","-r","-d",destfolder,srcfolder+listOfFiles[i].getName()};
		    	    System.out.println("File "+(i+1) + listOfFiles[i].getName());
		    	    dedexer.run(DEDXERINPUT);
		    	  }
		      } else if (listOfFiles[i].isDirectory()) {
		        System.out.println("Directory " + listOfFiles[i].getName());
		      }
		    }
	}
}
